<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="·ª®ng d·ª•ng t√≠nh to√°n n·ªìng ƒë·ªô c·ªìn v√† th·ªùi gian h·∫øt c·ªìn trong m√°u">
    <meta name="theme-color" content="#4a90e2">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="T√≠nh C·ªìn">
    <title>M√°y T√≠nh N·ªìng ƒê·ªô C·ªìn</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" href="icon-192.png">
    <link rel="apple-touch-icon" href="icon-192.png">
</head>
<body>
    <div class="container">
        <header>
            <h1>T√≠nh n·ªìng ƒë·ªô c·ªìn</h1>
        </header>

        <main>
            <form id="alcoholForm" class="form">
                <div class="form-group">
                    <label for="gender">Gi·ªõi t√≠nh</label>
                    <div class="radio-group">
                        <label class="radio-label">
                            <input type="radio" name="gender" value="male" id="gender-male" checked required>
                            <span class="radio-content">
                                <span class="radio-icon">üë®</span>
                                <span class="radio-text">Nam</span>
                            </span>
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="gender" value="female" id="gender-female" required>
                            <span class="radio-content">
                                <span class="radio-icon">üë©</span>
                                <span class="radio-text">N·ªØ</span>
                            </span>
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <label for="weight">C√¢n n·∫∑ng (kg)</label>
                    <input type="number" id="weight" name="weight" min="1" max="300" step="0.1" value="70" placeholder="Nh·∫≠p c√¢n n·∫∑ng" required>
                </div>

                <div class="form-group">
                    <label>Lo·∫°i ƒë·ªì u·ªëng</label>
                    <div class="button-group" id="drinkTypeGroup">
                        <label class="option-button">
                            <input type="radio" name="drinkType" value="beer" id="drink-beer" checked required>
                            <span class="button-content">
                                <span class="button-icon">üç∫</span>
                                <span class="button-text">Bia</span>
                            </span>
                        </label>
                        <label class="option-button">
                            <input type="radio" name="drinkType" value="strong" id="drink-strong" required>
                            <span class="button-content">
                                <span class="button-icon">üçæ</span>
                                <span class="button-text">R∆∞·ª£u m·∫°nh</span>
                            </span>
                        </label>
                        <label class="option-button">
                            <input type="radio" name="drinkType" value="wine" id="drink-wine" required>
                            <span class="button-content">
                                <span class="button-icon">üç∑</span>
                                <span class="button-text">R∆∞·ª£u vang</span>
                            </span>
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <label for="drinkAmount">S·ªë l∆∞·ª£ng ƒë√£ u·ªëng</label>
                    <div class="input-with-unit">
                        <input type="number" id="drinkAmount" name="drinkAmount" min="0" step="0.5" placeholder="Nh·∫≠p s·ªë l∆∞·ª£ng" required>
                        <span class="input-unit" id="inputUnit">-</span>
                    </div>
                    <span class="unit-hint" id="unitHint"></span>
                </div>

                <div class="form-group">
                    <label>Ph∆∞∆°ng ti·ªán</label>
                    <div class="button-group" id="vehicleGroup">
                        <label class="option-button">
                            <input type="radio" name="vehicle" value="car" id="vehicle-car" checked required>
                            <span class="button-content">
                                <span class="button-icon">üöó</span>
                                <span class="button-text">√ît√¥</span>
                            </span>
                        </label>
                        <label class="option-button">
                            <input type="radio" name="vehicle" value="motorcycle" id="vehicle-motorcycle" required>
                            <span class="button-content">
                                <span class="button-icon">üõµ</span>
                                <span class="button-text">Xe m√°y</span>
                            </span>
                        </label>
                        <label class="option-button">
                            <input type="radio" name="vehicle" value="bicycle" id="vehicle-bicycle" required>
                            <span class="button-content">
                                <span class="button-icon">üö≤</span>
                                <span class="button-text">Xe th√¥ s∆°</span>
                            </span>
                        </label>
                    </div>
                </div>

                <button type="submit" class="btn-submit">Xem k·∫øt qu·∫£</button>
            </form>

            <div id="result" class="result hidden">
                <div class="input-summary">
                    <div class="summary-title">
                        <h2>Th√¥ng tin ƒë·∫ßu v√†o</h2>
                        <button type="button" class="btn-change" id="btnChangeInfo">Thay ƒë·ªïi th√¥ng tin</button>
                    </div>
                    <div class="summary-content">
                        <div class="summary-item">
                            <span class="summary-label">Gi·ªõi t√≠nh:</span>
                            <span class="summary-value" id="summaryGender">-</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">C√¢n n·∫∑ng:</span>
                            <span class="summary-value" id="summaryWeight">-</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">ƒê√£ u·ªëng:</span>
                            <span class="summary-value" id="summaryDrink">-</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">Ph∆∞∆°ng ti·ªán:</span>
                            <span class="summary-value" id="summaryVehicle">-</span>
                        </div>
                    </div>
                </div>

                <div class="result-section">
                    <h2>K·∫øt qu·∫£</h2>
                    <div class="bac-result">
                        <p class="bac-text">
                            N·ªìng ƒë·ªô c·ªìn: <strong id="bacMgPer100ml">0,0</strong> mg/100 ml m√°u, 
                            t∆∞∆°ng ƒë∆∞∆°ng <strong id="bacMgPerLiter">0,000</strong> mg/ l√≠t kh√≠ th·ªü
                        </p>
                    </div>
                    <div class="time-card">
                        <div class="time-icon">‚è∞</div>
                        <div class="time-content">
                            <div class="time-label">Th·ªùi gian h·∫øt c·ªìn</div>
                            <div class="time-value" id="timeToZero">0,0 gi·ªù</div>
                        </div>
                    </div>
                </div>

                <div class="penalty-section">
                    <h2>M·ª©c ph·∫°t t∆∞∆°ng ·ª©ng</h2>
                    <div class="penalty-cards">
                        <div class="penalty-card">
                            <div class="penalty-icon">üí∞</div>
                            <div class="penalty-label">Ph·∫°t ti·ªÅn</div>
                            <div class="penalty-value" id="fineAmount">-</div>
                        </div>
                        <div class="penalty-card">
                            <div class="penalty-icon">ü™™</div>
                            <div class="penalty-label">GPLX</div>
                            <div class="penalty-value" id="licensePoints">-</div>
                        </div>
                    </div>
                    <p class="penalty-disclaimer">Th√¥ng tin c√≥ t√≠nh tham kh·∫£o. Theo Ngh·ªã ƒë·ªãnh 168/2024/Nƒê-CP</p>
                </div>

                <button type="button" class="btn-retry" id="btnRetry">Th·ª≠ l·∫°i</button>
            </div>
        </main>

        <footer>
            <p class="disclaimer">‚ö†Ô∏è Th√¥ng tin ch·ªâ mang t√≠nh ch·∫•t tham kh·∫£o. Kh√¥ng l√°i xe sau khi u·ªëng r∆∞·ª£u bia!</p>
        </footer>
    </div>

    <script src="script.js"></script>
    <script>
        // ƒêƒÉng k√Ω Service Worker cho PWA
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js')
                    .then((registration) => {
                        console.log('SW registered: ', registration);
                    })
                    .catch((registrationError) => {
                        console.log('SW registration failed: ', registrationError);
                    });
            });
        }
    </script>
</body>
</html>
